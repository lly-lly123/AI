# Railway éƒ¨ç½²æ£€æŸ¥æ¸…å• âœ…

## ğŸ“‹ å½“å‰è¿›åº¦

- [x] âœ… GitHub App æˆæƒå·²å®Œæˆ
- [x] âœ… ä»“åº“ `lly-lly123/pigeon-ai` å·²é€‰æ‹©
- [ ] â³ é…ç½®æ ¹ç›®å½•å’Œç¯å¢ƒå˜é‡ï¼ˆä¸‹ä¸€æ­¥ï¼‰

---

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œæ­¥éª¤

### æ­¥éª¤ 1ï¼šåœ¨ GitHub é¡µé¢ä¿å­˜æˆæƒ

1. åœ¨ GitHub "Repository access" é¡µé¢
2. ç¡®è®¤å·²é€‰æ‹© `lly-lly123/pigeon-ai`
3. ç‚¹å‡» **"Save"** æŒ‰é’®ä¿å­˜æˆæƒ

### æ­¥éª¤ 2ï¼šåœ¨ Railway é…ç½®é¡¹ç›®

#### 2.1 è®¾ç½®æ ¹ç›®å½•ï¼ˆRoot Directoryï¼‰

1. è¿›å…¥ Railway é¡¹ç›®è®¾ç½®
2. æ‰¾åˆ° **"Root Directory"** é€‰é¡¹
3. è®¾ç½®ä¸ºï¼š`backend`
4. ä¿å­˜è®¾ç½®

#### 2.2 é…ç½®ç¯å¢ƒå˜é‡ï¼ˆEnvironment Variablesï¼‰

åœ¨ Railway é¡¹ç›®çš„ **"Variables"** æ ‡ç­¾é¡µä¸­æ·»åŠ ï¼š

**å¿…éœ€é…ç½®ï¼š**
```
PORT=3000
NODE_ENV=production
```

**AI é…ç½®ï¼ˆè‡³å°‘é…ç½®ä¸€ä¸ªï¼‰ï¼š**
```
ZHIPU_API_KEY_EVO=ä½ çš„æ™ºè°±AIå¯†é’¥
```
æˆ–
```
ZHIPU_API_KEY_ADMIN=ä½ çš„æ™ºè°±AIå¯†é’¥
```

**å…¶ä»–å¯é€‰é…ç½®ï¼š**
```
API_KEY=your-api-key-here
API_RATE_LIMIT=100
RSS_SOURCES=ä¸­å›½ä¿¡é¸½ä¿¡æ¯ç½‘|https://www.chinaxinge.com/rss|media|national
LOG_LEVEL=info
```

#### 2.3 éƒ¨ç½²

1. Railway ä¼šè‡ªåŠ¨æ£€æµ‹åˆ° `backend/package.json`
2. è‡ªåŠ¨è¿è¡Œ `npm install`
3. è‡ªåŠ¨è¿è¡Œ `npm start`ï¼ˆå¯¹åº” `node server.js`ï¼‰
4. ç­‰å¾…éƒ¨ç½²å®Œæˆ

---

## âœ… éƒ¨ç½²åéªŒè¯

éƒ¨ç½²æˆåŠŸåï¼ŒRailway ä¼šæä¾›ä¸€ä¸ªå…¬å…± URLï¼Œä¾‹å¦‚ï¼š
```
https://your-project-name.up.railway.app
```

### éªŒè¯ç«¯ç‚¹ï¼š

1. **å¥åº·æ£€æŸ¥ï¼š**
   ```
   https://your-project-name.up.railway.app/api/health
   ```
   åº”è¯¥è¿”å›ï¼š
   ```json
   {
     "success": true,
     "status": "healthy",
     "timestamp": "...",
     "uptime": ...
   }
   ```

2. **API æ ¹è·¯å¾„ï¼š**
   ```
   https://your-project-name.up.railway.app/api
   ```

3. **å‰ç«¯é¡µé¢ï¼š**
   ```
   https://your-project-name.up.railway.app/
   ```

---

## ğŸ” æŠ€æœ¯è¯´æ˜

### ä¸ºä»€ä¹ˆæ ¹ç›®å½•è®¾ç½®ä¸º `backend`ï¼Ÿ

- âœ… `server.js` ä½äº `backend/` ç›®å½•
- âœ… `package.json` ä½äº `backend/` ç›®å½•
- âœ… æ‰€æœ‰åç«¯ä¾èµ–éƒ½åœ¨ `backend/` ç›®å½•
- âœ… Railway éœ€è¦ä»åŒ…å« `package.json` çš„ç›®å½•å¯åŠ¨

### æœåŠ¡å™¨å¯åŠ¨æœºåˆ¶

- âœ… `server.js` æ£€æŸ¥ `process.env.VERCEL`
- âœ… Railway ä¸ä¼šè®¾ç½® `VERCEL` ç¯å¢ƒå˜é‡
- âœ… æœåŠ¡å™¨ä¼šè‡ªåŠ¨åœ¨ `PORT` ç«¯å£å¯åŠ¨ï¼ˆRailway ä¼šè‡ªåŠ¨æä¾›ï¼‰
- âœ… æ”¯æŒ SIGTERM/SIGINT ä¿¡å·ä¼˜é›…å…³é—­

### ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§

Railway ä¼šè‡ªåŠ¨æä¾› `PORT` ç¯å¢ƒå˜é‡ï¼Œä½ çš„é…ç½®ä¼šä½¿ç”¨ï¼š
```javascript
port: process.env.PORT || 3000
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ç«¯å£é…ç½®**ï¼šRailway ä¼šè‡ªåŠ¨æä¾› `PORT`ï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½®ï¼ˆä½†å¯ä»¥æ˜¾å¼è®¾ç½®ï¼‰
2. **é™æ€æ–‡ä»¶**ï¼šåç«¯æœåŠ¡ä¼šæä¾›å‰ç«¯é™æ€æ–‡ä»¶ï¼ˆä» `backend/../` ç›®å½•ï¼‰
3. **æ—¥å¿—æŸ¥çœ‹**ï¼šåœ¨ Railway æ§åˆ¶å°çš„ "Deployments" æ ‡ç­¾é¡µæŸ¥çœ‹æ—¥å¿—
4. **æ•°æ®æŒä¹…åŒ–**ï¼šå¦‚æœéœ€è¦æ•°æ®æŒä¹…åŒ–ï¼Œè€ƒè™‘ä½¿ç”¨ Railway çš„ PostgreSQL æ’ä»¶

---

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
A: æ£€æŸ¥ Railway æ—¥å¿—ï¼Œå¸¸è§åŸå› ï¼š
- ç¯å¢ƒå˜é‡æœªæ­£ç¡®é…ç½®
- ä¾èµ–å®‰è£…å¤±è´¥
- ç«¯å£é…ç½®é”™è¯¯

### Q: å¦‚ä½•æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—ï¼Ÿ
A: åœ¨ Railway æ§åˆ¶å° â†’ Deployments â†’ ç‚¹å‡»æœ€æ–°éƒ¨ç½² â†’ æŸ¥çœ‹æ—¥å¿—

### Q: å¦‚ä½•æ›´æ–°ç¯å¢ƒå˜é‡ï¼Ÿ
A: åœ¨ Railway é¡¹ç›® â†’ Variables â†’ ç¼–è¾‘æˆ–æ·»åŠ å˜é‡ â†’ é‡æ–°éƒ¨ç½²

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- `Railwayéƒ¨ç½²é…ç½®æŒ‡å—.md` - è¯¦ç»†é…ç½®è¯´æ˜
- `Railwayå¿«é€Ÿé…ç½®.txt` - å¿«é€Ÿå‚è€ƒ
- `backend/config.example.env` - ç¯å¢ƒå˜é‡ç¤ºä¾‹


































